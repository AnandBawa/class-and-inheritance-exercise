<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script>
      class Point {
        //point defines the coordinates where a shape is on the (x,y) grid
        constructor(x, y) {
          this.x = x;
          this.y = y;
        }

        toString() {
          console.log("Current coordinates are (", this.x, ",", this.y, ")");
        }
      }

      class Shape {
        //any shape can be placed or moved on the grid using x, y values inputted. when placed on the grid a position property is assigned to the object
        addToPlane(x, y) {
          this.position = new Point(x, y);
          console.log("Added to coordinates (", this.position.x, ",", this.position.y, ")");
        }

        //move the shape to a new point on the grid using x, y values inputted. if the shape is not on the grid it gets added
        move(x, y) {
          if (Object.keys(this).includes("position")) {
            //Object.hasOwn(this, "position") also works
            this.position = new Point(this.position.x + x, this.position.y + y);
            console.log("Moved to coordinates (", this.position.x, ",", this.position.y, ")");
          } else {
            this.addToPlane(x, y);
          }
        }

        //type function displays the shape of object
        type() {
          console.log(this.constructor.name);
        }
      }

      class Circle extends Shape {
        //circle is a shape with no sides
        constructor(radius) {
          super();
          this.radius = radius;
        }

        area() {
          console.log("Area of circle is:", Math.PI * this.radius ** 2);
        }

        circumference() {
          console.log("Circumference of circle is:", 2 * Math.PI * this.radius);
        }
      }

      class Side {
        //any polygon has 3 or more sides. Each side has a value we assign to length property of side object
        constructor(len) {
          this.length = len;
        }
      }

      class Polygon extends Shape {
        //polygon requires an array of 'side' objects depending on the number of sides of the polygon
        constructor(arr) {
          super();
          this.sides = arr;
        }

        //perimeter is sum of all sides of a polygon
        perimeter() {
          let sum = this.sides.reduce((acc, side) => acc + side.length, 0);
          // let sum = 0;
          // this.sides.forEach(function (side) {
          //   sum += side.length;
          // });

          console.log("Perimiter is:", sum);
        }

        //this method will output the number of sides a polygon has
        numberOfSides() {
          console.log("The number of sides is:", this.sides.length);
        }
      }

      class Triangle extends Polygon {
        //triangle object is created using 3 values that each make up a 'side' object which is then returned to Polygon parent class as array of 'side' objects
        constructor(a, b, c) {
          let s1 = new Side(a);
          let s2 = new Side(b);
          let s3 = new Side(c);
          super([s1, s2, s3]);
        }
      }

      class Quadrilateral extends Polygon {
        //quadrilateral object is created using 4 values that each make up a 'side' object which is then returned to Polygon parent class as an array of 'side' objects
        constructor(a, b, c, d) {
          let s1 = new Side(a);
          let s2 = new Side(b);
          let s3 = new Side(c);
          let s4 = new Side(d);
          super([s1, s2, s3, s4]);
        }
      }

      class Rectangle extends Quadrilateral {
        //since rectangle is a type of quadrilateral its only needs 2 values, width and height. we send two of each to its parent class of Quadilateral
        constructor(a, b) {
          super(a, b, a, b);
          this.width = a;
          this.height = b;
        }

        area() {
          console.log("Area is:", this.width * this.height);
        }
      }

      class Square extends Rectangle {
        //since square is a quadrilateral with all sides equal, we only need 1 value of side length and send 2 of the same to its parent class Rectangle, which further sends 4 of same to Quadilateral class
        constructor(a) {
          super(a, a);
          this.length = a;
        }

        listProperties() {
          //   let str = [];
          //   for (let key of Object.keys(this)) {
          //     if (Object.hasOwn(this, key)) {
          //       str.push(key);
          //     }
          //   }
          console.log("Unique properties are:", Object.keys(this).join(", "));
        }
      }
    </script>
  </head>
  <body></body>
</html>
